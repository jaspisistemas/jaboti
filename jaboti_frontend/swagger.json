{"openapi":"3.0.0","paths":{"/pessoas":{"get":{"operationId":"PessoasController_list","parameters":[{"name":"q","required":false,"in":"query","description":"Busca parcial em name, email, phone","schema":{"type":"string"}},{"name":"tipo","required":false,"in":"query","description":"Filtra por tipo (CLIENTE/USUARIO)","schema":{"enum":["CLIENTE","USUARIO"],"type":"string"}}],"responses":{"200":{"description":""}},"tags":["pessoas"],"security":[{"bearer":[]}]},"post":{"operationId":"PessoasController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePessoaDto"}}}},"responses":{"201":{"description":""}},"tags":["pessoas"],"security":[{"bearer":[]}]}},"/pessoas/{id}":{"get":{"operationId":"PessoasController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["pessoas"],"security":[{"bearer":[]}]},"patch":{"operationId":"PessoasController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePessoaDto"}}}},"responses":{"200":{"description":""}},"tags":["pessoas"],"security":[{"bearer":[]}]},"delete":{"operationId":"PessoasController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["pessoas"],"security":[{"bearer":[]}]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/auth/select-company":{"post":{"operationId":"AuthController_selectCompany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SelectCompanyDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/companies":{"get":{"operationId":"CompaniesController_list","parameters":[],"responses":{"200":{"description":""}},"tags":["companies"],"security":[{"bearer":[]}]},"post":{"operationId":"CompaniesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCompanyDto"}}}},"responses":{"201":{"description":""}},"tags":["companies"],"security":[{"bearer":[]}]}},"/companies/{id}":{"patch":{"operationId":"CompaniesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompanyDto"}}}},"responses":{"200":{"description":""}},"tags":["companies"],"security":[{"bearer":[]}]}},"/companies/{id}/join":{"post":{"operationId":"CompaniesController_join","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":""}},"tags":["companies"],"security":[{"bearer":[]}]}},"/departments":{"get":{"operationId":"DepartmentsController_list","parameters":[],"responses":{"200":{"description":""}},"tags":["departments"],"security":[{"bearer":[]}]},"post":{"operationId":"DepartmentsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDepartmentDto"}}}},"responses":{"201":{"description":""}},"tags":["departments"],"security":[{"bearer":[]}]}},"/departments/{id}":{"patch":{"operationId":"DepartmentsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDepartmentDto"}}}},"responses":{"200":{"description":""}},"tags":["departments"],"security":[{"bearer":[]}]},"get":{"operationId":"DepartmentsController_get","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["departments"],"security":[{"bearer":[]}]},"delete":{"operationId":"DepartmentsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["departments"],"security":[{"bearer":[]}]}}},"info":{"title":"Jaboti API","description":"API multiempresa de atendimento Jaboti","version":"0.1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreatePessoaDto":{"type":"object","properties":{"name":{"type":"string","example":"Jo達o da Silva"},"phone":{"type":"string","example":"+5511999999999","minLength":5,"maxLength":30},"email":{"type":"string","example":"joao@empresa.com"},"chatName":{"type":"string","description":"Nome curto para chat","example":"Jo達o S."},"type":{"type":"string","enum":["CLIENTE","USUARIO"],"example":"CLIENTE"}},"required":["name","type"]},"UpdatePessoaDto":{"type":"object","properties":{"name":{"type":"string","example":"Jo達o Atualizado"},"phone":{"type":"string","example":"+5511888887777","minLength":5,"maxLength":30},"email":{"type":"string","example":"joao.novo@empresa.com"},"chatName":{"type":"string","example":"Jo達o N."},"type":{"type":"string","enum":["CLIENTE","USUARIO"]}}},"LoginDto":{"type":"object","properties":{}},"RefreshDto":{"type":"object","properties":{}},"SelectCompanyDto":{"type":"object","properties":{}},"CreateCompanyDto":{"type":"object","properties":{}},"UpdateCompanyDto":{"type":"object","properties":{}},"CreateDepartmentDto":{"type":"object","properties":{}},"UpdateDepartmentDto":{"type":"object","properties":{}}}}}